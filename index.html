<!DOCTYPE html>
<html lang="en">
  <head>
	<meta name="generator" content="Hugo 0.145.0">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content=""
  />
  
    
      <title>林鸟狂言</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <div id="root">
      <header>
  <div id="brand">
    <a class="icon-link" href="https://zpcjl.github.io/">
      <img
        class="icon"
        src="/images/brandIcon.svg"
      />
    </a>
    <div class="text">
      <a href="https://zpcjl.github.io/"><h1>林鸟狂言</h1></a>
      <h3>主人邀尽醉,林鸟助狂言。莫问愁多少,今皆付酒樽。</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/"><b>主页</b></a>
      
         | 
        <a href="/posts/"><b>文章</b></a>
      
         | 
        <a href="/categories/"><b>分类</b></a>
      
         | 
        <a href="/tags/"><b>标签</b></a>
      
         | 
        <a href="/about/"><b>关于</b></a>
      
    
  </nav>
  <hr />
</header>

      <div id="content">
        
	<main>
		
		
			<article class="summary">
  <a href="https://zpcjl.github.io/posts/ubuntu22.04%E4%B8%ADkvm%E5%AE%89%E8%A3%85openwrt%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8A%E7%AE%A1%E7%90%86/">
    <h1 class="title">Ubuntu22.04中KVM安装Openwrt虚拟机及管理</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2025-03-26</time>
    <span>in</span>
    
      <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
  </strong>
 <span> • 307 words</span>
 <span> • 2 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/%E6%95%99%E7%A8%8B">教程</a>, 
        <a href="/tags/kvm">kvm</a>, 
        <a href="/tags/openwrt">openwrt</a>, 
        <a href="/tags/ubuntu">ubuntu</a>
    </div>
  
</div>

  <div class="content">
    <p><p>kvm(kernel-based virtual machines)是一个基于linux内核的虚拟化技术, 可以直接将linux内核转换为hypervisor（系统管理程序）从而使得linux内核能够直接管理虚拟机, 直接调用linux内核中的内存管理、进程管理子系统来管理虚拟机。在ubuntu中安装openwrt可以作为旁路由方便管理。</p>
<h3 id="一安装kvm和openwrt虚拟机">一、安装KVM和Openwrt虚拟机 </h3>
<p><em><strong>本文操作都是在root账户下进行。</strong></em></p>
<p><strong>1.验证支持KVM</strong></p>
<p>(1)验证CPU是否支持硬件虚拟化</p>
<pre><code>grep -Eoc '(vmx|svm)' /proc/cpuinfo //数字大于0，则代表CPU支持硬件虚拟化，反之则不支持
</code></pre>
<p>(2)检查 VT 是否在 BIOS 中启用</p>
<pre><code>apt install cpu-checker //检查 VT 是否在 BIOS 中启用

kvm-ok //如果处理器虚拟化能力没有在 BIOS 中被禁用，命令将会打印出,否则，这个命令将会打印一个失败信息，和打印的消息
INFO: /dev/kvm exists
KVM acceleration can be used
</code></pre>
<p><strong>2.安装KVM</strong></p>
<pre><code>apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst virt-manager
systemctl is-active libvirtd
</code></pre>
<p>(1)检查是否安装成功</p>
<pre><code> lsmod | grep kvm
</code></pre>
<p>(2)启动虚拟化和设置开机自启</p>
<pre><code>systemctl start libvirtd 
systemctl enable libvirtd
systemctl list-unit-files |grep libvirtd.service //打印启动虚拟化和设置开机自启情况
</code></pre>
<p><strong>3．网络环境配置</strong></p></p>
    
      <a href="https://zpcjl.github.io/posts/ubuntu22.04%E4%B8%ADkvm%E5%AE%89%E8%A3%85openwrt%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%8F%8A%E7%AE%A1%E7%90%86/">Read more...</a>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://zpcjl.github.io/posts/ubuntu22.04%E5%AE%89%E8%A3%85plex%E5%B9%B6%E5%BC%80%E5%90%AF%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81/">
    <h1 class="title">Ubuntu22.04安装Plex,并开启硬件解码</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2025-03-26</time>
    <span>in</span>
    
      <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
  </strong>
 <span> • 189 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/%E6%95%99%E7%A8%8B">教程</a>, 
        <a href="/tags/plex">plex</a>, 
        <a href="/tags/ubuntu">ubuntu</a>
    </div>
  
</div>

  <div class="content">
    <p><p>    Plex是一个媒体播放器和媒体服务器的组合，它可以让你把所有的媒体文件都放在一个地方，然后在任何设备上都可以轻松地访问和播放。你只需要在一台电脑或NAS上安装Plex Media Server，然后把你的媒体文件添加到它的数据库中，就可以通过网络把它们提供给其他设备。</p>
<p>   本文是在N5095小主机中的Ubuntu22.04安装Plex，Ubuntu22.04默认的内核版本为5.15，而这个版本内含一个bug，导致11代IntelCPU无法正常开启硬件解码。</p>
<h3 id="一下载安装plex-media-server">一、下载安装Plex Media Server</h3>
<p><strong>1.进入Plex网站下载：</strong></p>
<p><a href="https://www.plex.tv/zh/">https://www.plex.tv/zh/</a></p>
<p>鼠标移动到下载，点击<em><strong>Plex Media Server</strong></em></p>
<p><img src="https://cdnjson.com/images/2024/01/31/1b2be73b8b0487867.jpg" alt=""></p>
<p>依次选择Linux-选择分布Ubuntu(16.04+)/Debian(8+)64-bit
<img src="https://cdnjson.com/images/2024/01/31/208beaddd60d221a5.jpg" alt=""></p>
<p><strong>2.用Winscp将下载的plexmediaserver_xxx.deb文件上传到Ubuntu /opt/目录下</strong>
进入目录安装：</p>
<pre><code>cd /opt
dpkg -i plexmediaserver_xxx.deb
</code></pre>
<p>启动、停止、开机启动命令：</p>
<pre><code>systemctl start plexmediaserver
systemctl stop plexmediaserver
systemctl enable plexmediaserver
</code></pre>
<p>**3.浏览器输入http://ip:32400即可进入服务器配置
**</p>
<h3 id="二ubuntu开启硬解">二、Ubuntu开启硬解</h3>
<p><strong>1.升级内核版本</strong></p>
<p>使用 dpkg 手动方式升级 Linux 内核</p>
<p>从 <a href="https://kernel.ubuntu.com/mainline/">kernel.ubuntu.com</a> 网站手动下载5.18以上 Linux 内核</p>
<p><img src="https://cdnjson.com/images/2024/01/31/18bbcbc35949db7ac.jpg" alt=""></p>
<p>点击你所选择的 Linux 内核版本链接，找到你对应的架构（“Build for XXX”）的那部分。然后下载符合以下格式的两个文件（其中 X.Y.Z 是最高版本号）：</p>
<p>1.linux-image-X.Y.Z-generic-*.deb</p>
<p>2.linux-modules-X.Y.Z-generic-.deb</p>
<p>在终端中改变到文件所在的目录，然后root用户执行命令手动安装内核：</p>
<pre><code>dpkg --install *.deb
</code></pre>
<p>重启系统，使用新内核：</p>
<pre><code>reboot
</code></pre>
<p>检查是否如你所愿：</p>
<pre><code>uname -r
</code></pre>
<p><strong>2.Intel显卡驱动配置</strong></p></p>
    
      <a href="https://zpcjl.github.io/posts/ubuntu22.04%E5%AE%89%E8%A3%85plex%E5%B9%B6%E5%BC%80%E5%90%AF%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81/">Read more...</a>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://zpcjl.github.io/posts/newnewnew/">
    <h1 class="title">newnwe</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2024-03-27</time>
    <span>in</span>
    
      <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
  </strong>
 <span> • 2 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/%E6%95%99%E7%A8%8B">教程</a>, 
        <a href="/tags/typecho">typecho</a>, 
        <a href="/tags/ubuntu">ubuntu</a>
    </div>
  
</div>

  <div class="content">
    <p><p>新文章</p>
<p>新文章</p></p>
    
  </div>
</article>

		
			<article class="summary">
  <a href="https://zpcjl.github.io/posts/ubuntu22.04%E4%B8%ADtypecho%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">
    <h1 class="title">ubuntu22.04中typecho安装和配置</h1>
    
  </a>
  









  


<div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2024-03-26</time>
    <span>in</span>
    
      <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
  </strong>
 <span> • 210 words</span>
 <span> • 1 minute read</span>
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/%E6%95%99%E7%A8%8B">教程</a>, 
        <a href="/tags/typecho">typecho</a>, 
        <a href="/tags/ubuntu">ubuntu</a>
    </div>
  
</div>

  <div class="content">
    <p><p><a href="https://typecho.org/">Typecho</a>是一个轻量级的开源博客系统，具有简单、易用的特点。本文是在<a href="https://www.oracle.com/">Oracle</a>实例 Ubuntu-22.04-Minimal 系统上安装 Typecho 博客系统的基本步骤。包括Nginx、PHP、Mysql、Typecho的安装和配置。此方法按照实际情况请参考使用！</p>
<hr>
<h3 id="一开放实例防火墙">一、开放实例防火墙</h3>
<hr>
<p><strong>root下（下同）输入命令：</strong></p>
<pre><code>iptables -P INPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -P OUTPUT ACCEPT
iptables -F
</code></pre>
<p><em>80,443端口自行在安全列表中开放。</em></p>
<h3 id="二安装nginxvimunzip">二、安装nginx、vim、unzip</h3>
<hr>
<p><strong>输入命令：</strong></p>
<pre><code>apt install nginx vim unzip -y
</code></pre>
<p>在浏览器http://IP 可以出现Welcome to nginx!</p>
<h3 id="三安装php及相关扩展">三、安装PHP及相关扩展</h3>
<hr>
<p>输入命令：</p>
<pre><code>apt install php-fpm php-mysql php-curl php-gd php-mbstring php-xml -y
</code></pre>
<h3 id="四修改nginx配置文件测试php">四、修改Nginx配置文件，测试PHP</h3>
<hr>
<p>1.修改配置</p>
<p>进入nginx的配置文件夹：</p>
<pre><code>cd /etc/nginx/sites-available/
</code></pre>
<p>先备份然后再修改：</p>
<pre><code>cp default default.back
vim default
</code></pre>
<p>修改Nginx配置文件为（删掉原来的文件复制粘贴即可）：</p>
<pre><code>server {
    listen 80;
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name iblogs.me; # 填入域名
    
    ssl_certificate /etc/ssl/cert.pem;# 填入SSL证书路径
    ssl_certificate_key /etc/ssl/key.pem;# 填入SSL证书路径
    
    root /var/www/html; 

    index index.php index.html index.htm;

    location / {
        try_files $uri $uri/ /index.php?$args;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php8.1-fpm.sock; # 注意版本号8.1，与安装的php版本号对应
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
</code></pre>
<p>验证文件的正确性：</p></p>
    
      <a href="https://zpcjl.github.io/posts/ubuntu22.04%E4%B8%ADtypecho%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">Read more...</a>
    
  </div>
</article>

		
		<div>
  
  1 of 1
  
</div>

	</main>

      </div>
      <footer>
  <hr />
  
    <p id="social">
      <strong>作者相关主页:</strong>     
      
        
        <a href="https://github.com/zpcjl">GitHub</a>
      
         | 
        <a href="https://space.bilibili.com/67350431">bilibili</a>
      
    </p>
  
  <p class="copyright">
    Copyright © 2025
    <a href="https://zpcjl.github.io/"><strong>林鸟狂言</strong></a>.
    Powered by <a href="http://www.gohugo.io/">Hugo</a>,
    Theme <a href="https://gitlab.com/ian-s-mcb/smigle-hugo-theme">smigle</a>.
    licensed <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.

</footer>

    </div>
  </body>
</html>
